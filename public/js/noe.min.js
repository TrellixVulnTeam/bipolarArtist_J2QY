(function($){$.fn.propimg=function(){return this.each(function(){var height=$(this).height();var width=$(this).width();var prop=width>=height?'img-hrz':'img-vert';$(this).addClass(prop);});}}(jQuery));(function($){$.fn.resizeVideo=function(){return this.each(function(){var video=$(this);var aspectRatio=1.78;var videoHeight=video.outerHeight();var videoWidth=video.outerWidth();var newWidth=videoHeight*aspectRatio;var newHeight=videoWidth/aspectRatio;var halfNewWidth=newWidth/2;$(this).css({"height":newHeight+"px"});});}}(jQuery));(function($){$.fn.imgCover=function(options){return this.each(function(){var container=$(this),imageAspect=1/1,containerH=0,containerW=0,defaults={target:'img'},settings=$.extend({},defaults,options);var $img=container.find(settings.target);$img.css('position','absolute');var img=container.find(settings.target)
var nomimg=img.attr('src');containerH+=$(this).outerHeight();containerW+=$(this).outerWidth();container.imagesLoaded().done(function(img){imageAspect=$img.width()/$img.height();encaja();});function encaja(){containerH=0;containerW=0;container.each(function(){imageAspect=$(this).find(settings.target).width()/$(this).find(settings.target).height();var containerH=$(this).height(),containerW=$(this).width();containerAspect=containerW/containerH;if(containerAspect<imageAspect){$(this).find(settings.target).css({width:'auto',height:containerH});$(this).find(settings.target).css({top:0,left:-($(this).find(settings.target).width()-containerW)/2});}else{$(this).find(settings.target).css({width:containerW,height:'auto'});$(this).find(settings.target).css({top:-(containerW/imageAspect-containerH)/2,left:0});}})}});}}(jQuery));(function($){$.fn.imgEncaja=function(options){return this.each(function(){var container=$(this),imageAspect=1/1,containerH=0,containerW=0,defaults={target:'img'},settings=$.extend({},defaults,options);var $img=container.find(settings.target);$img.css('position','absolute');var img=container.find(settings.target)
var nomimg=img.attr('src');container.addClass('is-loading');containerH+=$(this).outerHeight();containerW+=$(this).outerWidth();container.imagesLoaded().done(function(img){imageAspect=$img.width()/$img.height();container.removeClass('is-loading');encaja();});function encaja(){containerH=0;containerW=0;container.each(function(){imageAspect=$(this).find(settings.target).width()/$(this).find(settings.target).height();var containerH=$(this).height(),containerW=$(this).width();$(this).find(settings.target).css({width:'100%',height:'auto'});containerAspect=containerW/containerH;if(containerAspect>imageAspect){$(this).find(settings.target).css({width:'auto',height:containerH/1.2});}else{$(this).find(settings.target).css({width:containerW/1.2,height:'auto'});}
$(this).find(settings.target).css({top:(containerH-$(this).find(settings.target).height())/2,left:(containerW-$(this).find(settings.target).width())/2});})}});}}(jQuery));(function($){$.fn.noeCarrusel=function(options){return this.each(function(){var $container=$(this),currentIndex=1,defaults={target:'.ba-c-logo-slider__logos-box',animWrapper:'.ba-c-logo-slider__anim-wrapper',duration:40000},settings=$.extend({},defaults,options),$item=$container.find(settings.target),$animWrapper=$container.find(settings.animWrapper),$butPlay=$container.find('.control-button.play'),$butPause=$container.find('.control-button.pause'),time=settings.duration;console.log("time al empezar:"+time);function comprobarFoto(){boxes=$container.find(settings.target),$animItems=$animWrapper.find(boxes),elems=$animItems.length;if(elems==0){cargarFoto();}else if(elems<=1){clonarFoto();}else if(elems>1){foto=$animWrapper.find('.ba-c-logo-slider__logos-box:first-child');fotow=foto.width();time=settings.duration;timeUnit=fotow/time;timeLeft=time;animarFoto();}}
function clonarFoto(){$item.clone().appendTo($animWrapper).addClass(settings.target+"-"+currentIndex);$('.imgEncaja').imgEncaja();currentIndex++
comprobarFoto();}
function cargarFoto(){console.log("entro en cargar");clonarFoto();$item.on('load',function(){clonarFoto();});$item.on('error',function(){});}
function animarFoto(){fotow=foto.outerWidth();$animWrapper.find('.ba-c-logo-slider__logos-box:first-child').stop().animate({marginLeft:-fotow},{duration:timeLeft,easing:"linear",step:function(x){timeUnit=timeUnit*x
timePast=-Math.round(x*time/fotow);timeLeft=time-timePast;},done:function(){$(this).appendTo($(this).parent()).css({marginLeft:"auto"});timeLeft=settings.duration;animarFoto();}});}
comprobarFoto();});}}(jQuery));function adjustVideo(){var $container=$('.ba-c-video-reel'),imageAspect=1/1,containerH=0,containerW=0,containerAspect=containerW/containerH,$video=$('.video-wrapper__sources'),$videoimg=$('.ba-c-video-reel__video-wrapper img'),$targetImg=$('.ba-c-video-reel__video-wrapper img'),videoAspect=0,vH=0,vW=0;$container.imagesLoaded().done(function(){encaja();});function encaja(){containerH=$container.height(),containerW=$container.width(),containerAspect=containerW/containerH,vH=$targetImg.height(),vW=$targetImg.width(),videoAspect=vW/vH;if(containerAspect<videoAspect){$targetImg.css({"height":"100%","width":"auto"});$video.css({"height":containerH,"width":"auto"});videoW=$video.width();$video.css({"margin-left":-(videoW-containerW)/2,"margin-top":0,"margin-bottom":"9999px"});}else{$targetImg.css({"height":"auto","width":"100%"});$video.css({"height":"auto","width":containerW});videoH=$video.height();$video.css({"margin-top":-(videoH-containerH)/2,"margin-left":0,"margin-bottom":"9999px"});}}}
function hamburgerMenu(){var $toggle=$(".navbar-toggle"),$mL=$(".launch-navbar");var $menuEle=$("nav.navbar"),$menuCont=$("nav.navbar .navbar-collapse");$toggle.on("click",function(e){e.preventDefault();$(this).hasClass("is-active")===true?$(this).removeClass("is-active"):$(this).addClass("is-active");$menuEle.toggleClass("is-active");});$mL.on("click",function(e){e.preventDefault();$menuEle.hasClass("is-active")===true?$menuEle.removeClass("is-active"):$menuEle.addClass("is-active");$toggle.hasClass("is-active")===true?$toggle.removeClass("is-active"):$toggle.addClass("is-active");$menuCont.hasClass("in")===true?$menuCont.removeClass("in"):$menuCont.addClass("in").css("height","");});}
$(document).on('click','[data-toggle="lightbox"]',function(event){event.preventDefault();$(this).ekkoLightbox({alwaysShowClose:true,wrapping:false});});$(document).ready(function(){var $window=$(window),$body=$('body'),screenwidth=$window.width(),mquerylg=1200,delta=0;$cont=$('.ba-l-rplcBg');$defBgCont=$cont.find('.ba-l-full-bg__img');$defBgElem=$defBgCont.find('img');$defBg=$defBgElem.attr('src');$('.video iframe').resizeVideo();$("div.carousel").on("touchstart",function(event){var xClick=event.originalEvent.touches[0].pageX;$(this).one("touchmove",function(event){var xMove=event.originalEvent.touches[0].pageX;if(Math.floor(xClick-xMove)>5){$(this).carousel('next');}
else if(Math.floor(xClick-xMove)<-5){$(this).carousel('prev');}});$("div.carousel").on("touchend",function(){$(this).off("touchmove");});});function resize(){$('img').propimg();$('.imgCover').imgCover();$('.ba-l-full-bg__img').imgCover();$('.imgEncaja').imgEncaja();$('.video iframe').resizeVideo();var screenwidth=$window.width();if(screenwidth<=768){$body.removeClass().addClass('mobile');}else if(screenwidth>768&&screenwidth<1200){$body.removeClass().addClass('tablet');}else if(screenwidth>=1200){$body.removeClass().addClass('desktop');}
function gifBg(){$elem=$(this);newbg=$elem.attr('data-bg');$defBgElem.attr({src:"./images/"+newbg+".gif"});$('.ba-l-full-bg__img').imgCover();console.log("defbg: "+$defBg);};$('.ba-l-rplcBg__shoot').hover(gifBg,function(){$defBgElem.attr({src:$defBg});$('.ba-l-full-bg__img').imgCover();});if($('.ba-c-video-reel')){adjustVideo();}
if($('.ba-c-hoGa')){$('.ba-c-hoGa').flickity({watchCSS:true,draggable:true,pageDots:false,cellAlign:'left',contain:true,autoPlay:5000,pauseAutoPlayOnHover:false,wrapAround:true});}
if($('.ba-c-wgg')){$('.ba-c-wgg').flickity({watchCSS:true,draggable:true,pageDots:false,cellAlign:'left',contain:true,autoPlay:5000,pauseAutoPlayOnHover:false,prevNextButtons:false,wrapAround:true});}
if($('.ba-c-logo-slider')){$('.ba-c-logo-slider').noeCarrusel();}}
hamburgerMenu();$(window).on('load',function(){});$window.resize(resize);$window.trigger('resize');});